# DO NOT EDIT THIS FILE
# This file is controlled by Drainpipe, run composer install to apply pending
# updates.
services:
  php:
    http: false
    image: tugboatqa/php-nginx:8.1-fpm
    default: true

    depends:
      - mariadb
      - redis

    # Imported from config.override.yml.
    aliases:
      - storybook
      - foo.bar.baz
      
    # Imported from config.override.yml.
    urls:
      -
        url: /
      -
        url: /blog
        visualdiff:
          timeout: 10
      -
        url: /about
        visualdiff:
          waitUntil: domcontentloaded
      
    # Imported from config.override.yml.
    visualdiff:
      enabled: true
      timeout: 30
      waitUntil:
        - load
      fullPage: true
      
    # Imported from config.override.yml.
    screenshot:
      enabled: true
      timeout: 30
      waitUntil:
        - load
      fullPage: true
      
    commands:
      init: ./.tugboat/steps/1-init.sh
      update: ./.tugboat/steps/2-update.sh
      build: ./.tugboat/steps/3-build.sh

  mariadb:
    image: tugboatqa/mariadb:10.4

  redis:
    image: tugboatqa/redis:6-bullseye
